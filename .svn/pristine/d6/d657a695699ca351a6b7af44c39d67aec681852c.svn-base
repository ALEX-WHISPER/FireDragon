{"version":3,"sources":["VoucherManager.js"],"names":["mallFlags","require","cc","Class","extends","Component","properties","label_VoucherAmount","default","type","Label","label_RedeemedTreasure","label_RedeemedVIPDays","label_Price","setVoucherValues","index","voucherValueStruct","voucherValues","voucherAmount","redeem_Treasure","redeem_vipDays","price_rmb","string","replace","getVoucherValues","getVoucherIndex","onChoosePrice","NOTIFICATION","emit","MALL_CHOOSE_VOUCHER"],"mappings":";;;;;;AAAA,IAAIA,YAAYC,QAAQ,WAAR,CAAhB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,6BAAqB;AACjBC,qBAAS,IADQ;AAEjBC,kBAAMP,GAAGQ;AAFQ,SADb;;AAMRC,gCAAwB;AACpBH,qBAAS,IADW;AAEpBC,kBAAMP,GAAGQ;AAFW,SANhB;;AAWRE,+BAAuB;AACnBJ,qBAAS,IADU;AAEnBC,kBAAMP,GAAGQ;AAFU,SAXf;;AAgBRG,qBAAa;AACTL,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA;AAhBL,KAHP;;AAyBLI,sBAAkB,0BAASC,KAAT,EAAgBC,kBAAhB,EAAoC;AAClD,aAAKD,KAAL,GAAaA,KAAb;AACA,aAAKE,aAAL,GAAqBD,kBAArB;;AAEA,YAAIE,gBAAgB,KAAKD,aAAL,CAAmBC,aAAvC;AACA,YAAIC,kBAAkB,KAAKF,aAAL,CAAmBE,eAAzC;AACA,YAAIC,iBAAiB,KAAKH,aAAL,CAAmBG,cAAxC;AACA,YAAIC,YAAY,KAAKJ,aAAL,CAAmBI,SAAnC;;AAEA,aAAKd,mBAAL,CAAyBe,MAAzB,GAAkC,KAAKf,mBAAL,CAAyBe,MAAzB,CAAgCC,OAAhC,CAAwC,OAAxC,EAAiDL,aAAjD,CAAlC;AACA,aAAKP,sBAAL,CAA4BW,MAA5B,GAAqC,KAAKX,sBAAL,CAA4BW,MAA5B,CAAmCC,OAAnC,CAA2C,OAA3C,EAAoDJ,eAApD,CAArC;AACA,aAAKP,qBAAL,CAA2BU,MAA3B,GAAoC,KAAKV,qBAAL,CAA2BU,MAA3B,CAAkCC,OAAlC,CAA0C,OAA1C,EAAmDH,cAAnD,CAApC;AACA,aAAKP,WAAL,CAAiBS,MAAjB,GAA0B,KAAKT,WAAL,CAAiBS,MAAjB,CAAwBC,OAAxB,CAAgC,OAAhC,EAAyCF,SAAzC,CAA1B;AACH,KAtCI;;AAwCLG,sBAAkB,4BAAW;AACzB,eAAO,KAAKP,aAAZ;AACH,KA1CI;;AA4CLQ,qBAAiB,2BAAW;AACxB,eAAO,KAAKV,KAAZ;AACH,KA9CI;;AAgDLW,mBAAe,yBAAW;AACtB;AACAC,qBAAaC,IAAb,CAAkB5B,UAAU6B,mBAA5B,EAAiD,EAACd,OAAO,KAAKA,KAAb,EAAjD;AACH;AAnDI,CAAT","file":"VoucherManager.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\FireDragon\\Mall","sourcesContent":["var mallFlags = require(\"MallFlags\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        label_VoucherAmount: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n\r\n        label_RedeemedTreasure: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n\r\n        label_RedeemedVIPDays: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n\r\n        label_Price: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n    },\r\n\r\n    setVoucherValues: function(index, voucherValueStruct) {\r\n        this.index = index;\r\n        this.voucherValues = voucherValueStruct;\r\n\r\n        let voucherAmount = this.voucherValues.voucherAmount;\r\n        let redeem_Treasure = this.voucherValues.redeem_Treasure;\r\n        let redeem_vipDays = this.voucherValues.redeem_vipDays;\r\n        let price_rmb = this.voucherValues.price_rmb;\r\n\r\n        this.label_VoucherAmount.string = this.label_VoucherAmount.string.replace('value', voucherAmount);\r\n        this.label_RedeemedTreasure.string = this.label_RedeemedTreasure.string.replace('value', redeem_Treasure);\r\n        this.label_RedeemedVIPDays.string = this.label_RedeemedVIPDays.string.replace('value', redeem_vipDays);\r\n        this.label_Price.string = this.label_Price.string.replace('value', price_rmb);\r\n    },\r\n\r\n    getVoucherValues: function() {\r\n        return this.voucherValues;\r\n    },\r\n\r\n    getVoucherIndex: function() {\r\n        return this.index;\r\n    },\r\n\r\n    onChoosePrice: function() {\r\n        //  send this.index to the confirm panel\r\n        NOTIFICATION.emit(mallFlags.MALL_CHOOSE_VOUCHER, {index: this.index});        \r\n    }\r\n});\r\n"]}