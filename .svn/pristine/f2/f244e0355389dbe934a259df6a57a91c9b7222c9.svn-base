{"version":3,"sources":["Enemy_Multi.js"],"names":["enemyBase","require","flags","cc","Class","extends","properties","multiNum","catchingRate","visible","get","_catchingRate","set","value","onLoad","NOTIFICATION","on","ENEMY_GET_CAUGHT","onGetCatched","ENEMY_GET_ESCAPED","onGetEscaped","start","variablesInit","event","tarName","msg","selfName","enemyName","toLowerCase","console","log","emit","ENEMY_ESCAPED_TREASURE_MINUS","ENEMY_CAUGHT_TREASURE_ADD","enemyImg","killMsg"],"mappings":";;;;;;AAAA,IAAIA,YAAYC,QAAQ,WAAR,CAAhB;AACA,IAAIC,QAAQD,QAAQ,WAAR,CAAZ;;AAEAE,GAAGC,KAAH,CAAS;AACLC,aAASL,SADJ;;AAGLM,gBAAY;AACRC,kBAAU,CADF;;AAGRC,sBAAc;AACVC,qBAAS,KADC;;AAGVC,iBAAK,eAAW;AACZ,uBAAO,KAAKC,aAAZ;AACH,aALS;;AAOVC,iBAAK,aAASC,KAAT,EAAgB;AACjB,qBAAKF,aAAL,GAAqBE,KAArB;AACH;AATS;AAHN,KAHP;;AAmBLC,YAAQ,kBAAW;AACfC,qBAAaC,EAAb,CAAgBd,MAAMe,gBAAtB,EAAwC,KAAKC,YAA7C,EAA2D,IAA3D;AACAH,qBAAaC,EAAb,CAAgBd,MAAMiB,iBAAtB,EAAyC,KAAKC,YAA9C,EAA4D,IAA5D;AACH,KAtBI;;AAwBLC,WAAO,iBAAW;AACd,aAAKC,aAAL;AACH,KA1BI;;AA4BLA,mBAAe,yBAAW;AACtB,aAAKd,YAAL,GAAoB,IAAI,KAAKD,QAA7B;AACH,KA9BI;;AAgCLW,kBAAc,sBAASK,KAAT,EAAgB;AAC1B,YAAIC,UAAUD,MAAME,GAApB;AACA,YAAIC,WAAW,KAAKC,SAApB;;AAEA,YAAIH,QAAQI,WAAR,OAA0BF,SAASE,WAAT,EAA9B,EAAsD;AAClDC,oBAAQC,GAAR,CAAY,YAAYJ,QAAZ,GAAuB,cAAnC;AACAX,yBAAagB,IAAb,CAAkB7B,MAAM8B,4BAAxB;AACAjB,yBAAagB,IAAb,CAAkB7B,MAAM+B,yBAAxB,EAAmD,EAACC,UAAU,KAAKA,QAAhB,EAA0B3B,UAAU,KAAKA,QAAzC,EAAmDoB,WAAWD,QAA9D,EAAwES,SAAS,KAAKA,OAAtF,EAAnD;AACH;AACJ,KAzCI;;AA2CLf,kBAAc,sBAASG,KAAT,EAAgB;AAC1B,YAAIC,UAAUD,MAAME,GAApB;AACA,YAAIC,WAAW,KAAKC,SAApB;;AAEA,YAAIH,QAAQI,WAAR,OAA0BF,SAASE,WAAT,EAA9B,EAAsD;AAClDC,oBAAQC,GAAR,CAAY,YAAYJ,QAAZ,GAAuB,eAAnC;AACAX,yBAAagB,IAAb,CAAkB7B,MAAM8B,4BAAxB;AACH;AACJ;AAnDI,CAAT","file":"Enemy_Multi.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\FireDragon\\GamePlay\\Enemies","sourcesContent":["var enemyBase = require(\"EnemyBase\");\r\nvar flags = require(\"GameFlags\");\r\n\r\ncc.Class({\r\n    extends: enemyBase,\r\n\r\n    properties: {\r\n        multiNum: 1,\r\n\r\n        catchingRate: {\r\n            visible: false,\r\n\r\n            get: function() {\r\n                return this._catchingRate;\r\n            },\r\n\r\n            set: function(value) {\r\n                this._catchingRate = value;\r\n            }\r\n        }\r\n    },\r\n\r\n    onLoad: function() {\r\n        NOTIFICATION.on(flags.ENEMY_GET_CAUGHT, this.onGetCatched, this);\r\n        NOTIFICATION.on(flags.ENEMY_GET_ESCAPED, this.onGetEscaped, this);\r\n    },\r\n\r\n    start: function() {\r\n        this.variablesInit();\r\n    },\r\n\r\n    variablesInit: function() {\r\n        this.catchingRate = 1 / this.multiNum;\r\n    },\r\n\r\n    onGetCatched: function(event) {\r\n        var tarName = event.msg;\r\n        var selfName = this.enemyName;\r\n\r\n        if (tarName.toLowerCase() === selfName.toLowerCase()) {\r\n            console.log(\"enemy: \" + selfName + \" get caught!\");\r\n            NOTIFICATION.emit(flags.ENEMY_ESCAPED_TREASURE_MINUS);\r\n            NOTIFICATION.emit(flags.ENEMY_CAUGHT_TREASURE_ADD, {enemyImg: this.enemyImg, multiNum: this.multiNum, enemyName: selfName, killMsg: this.killMsg});\r\n        }\r\n    },\r\n\r\n    onGetEscaped: function(event) {\r\n        var tarName = event.msg;\r\n        var selfName = this.enemyName;\r\n\r\n        if (tarName.toLowerCase() === selfName.toLowerCase()) {\r\n            console.log(\"enemy: \" + selfName + \" get escaped!\");\r\n            NOTIFICATION.emit(flags.ENEMY_ESCAPED_TREASURE_MINUS);  \r\n        }\r\n    }\r\n});\r\n"]}